define("json-api-adapter",["exports"],function(e){"use strict";function r(e,r,t){this.status=e,this.message=r,this.xhr=t,this.stack=(new Error).stack}var t=Ember.get;DS._routes=Ember.create(null),DS.JsonApiAdapter=DS.RESTAdapter.extend({defaultSerializer:"DS/jsonApi",buildURL:function(e,r){var i=DS._routes[e];if(i){var n=[],s=t(this,"host"),o=this.urlPrefix(),a=/\{(.*?)\}/g;return r?a.test(i)?n.push(i.replace(a,r)):n.push(i,r):n.push(i.replace(a,"")),o&&n.unshift(o),n=n.join("/"),!s&&n&&(n="/"+n),n}return this._super(e,r)},findMany:function(e,r,t,i){return this.ajax(this.buildURL(r.modelName,t.join(","),i,"findMany"),"GET")},createRecord:function(e,r,t){var i={};return i[this.pathForType(r.modelName)]=e.serializerFor(r.modelName).serialize(t,{includeId:!0}),this.ajax(this.buildURL(r.modelName),"POST",{data:i})},updateRecord:function(e,r,t){var i={};return i[this.pathForType(r.modelName)]=e.serializerFor(r.modelName).serialize(t,{includeId:!0}),this.ajax(this.buildURL(r.modelName,t.id),"PUT",{data:i})},_tryParseErrorResponse:function(e){try{return Ember.$.parseJSON(e)}catch(r){return"Something went wrong"}},ajaxError:function(e){var t,i=this._super(e);if(e&&"object"==typeof e){t=this._tryParseErrorResponse(e.responseText);var n={};return t&&"object"==typeof t&&void 0!==t.errors&&Ember.A(Ember.keys(t.errors)).forEach(function(e){n[Ember.String.camelize(e)]=t.errors[e]}),422===e.status?new DS.InvalidError(n):new r(e.status,t,e)}return i},pathForType:function(e){return Ember.String.pluralize(Ember.String.underscore(e))}}),r.prototype=Ember.create(Error.prototype),r.constructor=r,DS.JsonApiAdapter.ServerError=r,e["default"]=DS.JsonApiAdapter}),define("json-api-serializer",["exports"],function(e){"use strict";function r(e,r,t){var i=t;return i&&e!==r&&(i={id:i,type:r}),i}function t(e,r,t,i){var n,s=t.hasMany(i,{ids:!0})||[];return s&&n&&e!==Ember.String.pluralize(r)&&(s={ids:n,type:r}),s}var i=Ember.get,n=Ember.isNone;DS.JsonApiSerializer=DS.RESTSerializer.extend({keyForRelationship:function(e){return Ember.String.camelize(e)},keyForSnapshot:function(e){return e.modelName},extractSingle:function(e,r,t,i,n){var s;s=this.keyForAttribute?this.keyForAttribute(r.modelName):r.modelName;var o={};for(var a in t){var l=Ember.String.singularize(a);l===s&&Ember.isArray(t[a])?o[l]=t[a][0]:o[a]=t[a]}return this._super(e,r,o,i,n)},normalize:function(e,r,t){var i=this.normalizeLinks(r);return this._super(e,i,t)},normalizeLinks:function(e){for(var r in e)if("links"!==r){var t=Ember.String.camelize(r);json[t]=e[r]}else if("object"===Ember.typeOf(e[r]))for(var i in e[r]){var n=e[r][i];i=Ember.String.camelize(i),n&&"object"===Ember.typeOf(n)&&n.href?(json.links=json.links||{},json.links[i]=n.href):n&&"object"===Ember.typeOf(n)&&n.ids?json[i]=n.ids:json[i]=n}return this._super(type,json,prop)},normalizePayload:function(e){return e.meta&&(this.extractMeta(e.meta),delete e.meta),e.links&&(this.extractLinks(e.links),delete e.links),e.linked&&(this.extractLinked(e.linked),delete e.linked),e},extractLinked:function(e){var r,t,n,s,o=i(this,"store")||this.container.lookup("store:main");for(r in e){t=e[r];for(var a=t.length-1;a>=0;a--)if(n=t[a],n.links){n=this.normalizeLinks(n);for(s in n.links)n[s]=n.links[s];delete n.links}}this.pushPayload(o,e)},extractLinks:function(e){var r,t,i,n,s,o,a=[];for(r in e)t=r.split(".").pop(),i=e[r],"string"==typeof i?n=i:(t=i.type||t,n=i.href),"http"===n.substr(0,4).toLowerCase()&&(n=n.split("//").pop().split("/").slice(1).join("/")),"/"===n.charAt(0)&&(n=n.substr(1)),s={},o=Ember.String.singularize(t),s[o]=n,a.push(s),DS._routes[o]=n;return a},serializeBelongsTo:function(e,t,s){var o=s.key,a=e.belongsTo(o);if(!n(a)){var l=this.keyForSnapshot(a),u=this.keyForRelationship(o);t.links=t.links||{},t.links[u]=r(u,Ember.String.camelize(l),i(a,"id"))}},serializeHasMany:function(e,r,i){var n=i.key,s=this.keyForRelationship(i.type),o=this.keyForRelationship(n);"hasMany"===i.kind&&(r.links=r.links||{},r.links[o]=t(o,s,e,n))}}),e["default"]=DS.JsonApiSerializer});