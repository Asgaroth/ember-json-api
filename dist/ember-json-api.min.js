define("json-api-adapter",["exports"],function(e){"use strict";function r(e,r,i){this.status=e,this.message=r,this.xhr=i,this.stack=(new Error).stack}var i=Ember.get;DS._routes=Ember.create(null),DS.JsonApiAdapter=DS.RESTAdapter.extend({defaultSerializer:"DS/jsonApi",buildURL:function(e,r){var t=DS._routes[e];if(t){var n=[],s=i(this,"host"),a=this.urlPrefix(),o=/\{(.*?)\}/g;return r?o.test(t)?n.push(t.replace(o,r)):n.push(t,r):n.push(t.replace(o,"")),a&&n.unshift(a),n=n.join("/"),!s&&n&&(n="/"+n),n}return this._super(e,r)},findMany:function(e,r,i,t){return this.ajax(this.buildURL(r.modelName,i.join(","),t,"findMany"),"GET")},createRecord:function(e,r,i){var t={};return t[this.pathForType(r.modelName)]=e.serializerFor(r.modelName).serialize(i,{includeId:!0}),this.ajax(this.buildURL(r.modelName),"POST",{data:t})},updateRecord:function(e,r,i){var t={};return t[this.pathForType(r.modelName)]=e.serializerFor(r.modelName).serialize(i,{includeId:!0}),this.ajax(this.buildURL(r.modelName,i.id),"PUT",{data:t})},_tryParseErrorResponse:function(e){try{return Ember.$.parseJSON(e)}catch(r){return"Something went wrong"}},ajaxError:function(e){var i,t=this._super(e);if(e&&"object"==typeof e){i=this._tryParseErrorResponse(e.responseText);var n={};return i&&"object"==typeof i&&void 0!==i.errors&&Ember.A(Ember.keys(i.errors)).forEach(function(e){n[Ember.String.camelize(e)]=i.errors[e]}),422===e.status?new DS.InvalidError(n):new r(e.status,i,e)}return t},pathForType:function(e){return Ember.String.pluralize(Ember.String.underscore(e))}}),r.prototype=Ember.create(Error.prototype),r.constructor=r,DS.JsonApiAdapter.ServerError=r,e["default"]=DS.JsonApiAdapter}),define("json-api-serializer",["exports"],function(e){"use strict";var r=Ember.get,i=Ember.isNone;DS.JsonApiSerializer=DS.RESTSerializer.extend({keyForRelationship:function(e){return Ember.String.camelize(e)},keyForSnapshot:function(e){return e.modelName},extractSingle:function(e,r,i,t,n){var s;s=this.keyForAttribute?this.keyForAttribute(r.modelName):r.modelName;var a={};for(var o in i){var l=Ember.String.singularize(o);l===s&&Ember.isArray(i[o])?a[l]=i[o][0]:a[o]=i[o]}return this._super(e,r,a,t,n)},normalize:function(e,r,i){var t=this.normalizeLinks(r);return this._super(e,t,i)},normalizeLinks:function(e){var r={};for(var i in e)if("links"!==i){var t=Ember.String.camelize(i);r[t]=e[i]}else if("object"===Ember.typeOf(e[i]))for(var n in e[i]){var s=e[i][n];n=Ember.String.camelize(n),s&&"object"===Ember.typeOf(s)&&s.href?(r.links=r.links||{},r.links[n]=s.href):s&&"object"===Ember.typeOf(s)&&s.ids?r[n]=s.ids:r[n]=s}return r},normalizePayload:function(e){return e.meta&&(this.extractMeta(e.meta),delete e.meta),e.links&&(this.extractLinks(e.links),delete e.links),e.linked&&(this.extractLinked(e.linked),delete e.linked),e},extractLinked:function(e){var i,t,n,s,a=r(this,"store")||this.container.lookup("store:main");for(i in e){t=e[i];for(var o=t.length-1;o>=0;o--)if(n=t[o],n.links){n=this.normalizeLinks(n);for(s in n.links)n[s]=n.links[s];delete n.links}}this.pushPayload(a,e)},extractLinks:function(e){var r,i,t,n,s,a,o=[];for(r in e)i=r.split(".").pop(),t=e[r],"string"==typeof t?n=t:(i=t.type||i,n=t.href),"http"===n.substr(0,4).toLowerCase()&&(n=n.split("//").pop().split("/").slice(1).join("/")),"/"===n.charAt(0)&&(n=n.substr(1)),s={},a=Ember.String.singularize(i),s[a]=n,o.push(s),DS._routes[a]=n;return o},serializeBelongsTo:function(e,t,n){var s=n.key,a=e.belongsTo(s);if(!i(a)){var o=this.keyForSnapshot(a),l=this.keyForRelationship(s);t.links=t.links||{},t.links[l]=this._belongsToLink(l,Ember.String.camelize(o),r(a,"id"))}},serializeHasMany:function(e,r,i){var t=i.key,n=this.keyForRelationship(i.type),s=this.keyForRelationship(t);"hasMany"===i.kind&&(r.links=r.links||{},r.links[s]=this._hasManyLink(s,n,e,t))},_belongsToLink:function(e,r,i){var t=i;return t&&e!==r&&(t={id:t,type:r}),t},_hasManyLink:function(e,r,i,t){var n=i.hasMany(t,{ids:!0})||[],s=n;return n&&e!==Ember.String.pluralize(r)&&(s={ids:n,type:r}),s}}),e["default"]=DS.JsonApiSerializer});